\subsection{Point to Segment}
\begin{lstlisting}
double point2segment(P a, P b, P p){
    if (a==b) return (p-a).len();
    if (sgn((p-a)^(b-a))<0) return (p-a).len();
    else if (sgn((p-b)^(a-b))<0) return (p-b).len();
    else return fabs((p-a)*(a-b))/(a-b).len();
}
\end{lstlisting}
